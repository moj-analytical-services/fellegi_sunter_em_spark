matrix:
  - name: Markdown docs
    sources:
      - docs/blog/posts/2023-07-27-feature_update.md|!docs/includes/**/*.md
    aspell:
      lang: en
      d: en_GB
      mode: markdown
    dictionary:
      wordlists:
        - scripts/pyspelling/custom_dictionary.txt
      output: scripts/pyspelling/dictionary.dic
    pipeline:
      - pyspelling.filters.context:
          context_visible_first: true
          delimiters:
            # Ignore multiline content between cards flags
            - open: '(?s)^(::cards::)$'
              close: '^(::\/cards::)$'
            # Ignore multiline content at top of blog posts
            - open: '(?s)^(---)$'
              close: '^---$'
            # Ignore text for icons eg :octicons-duplicate-24:
            - open: ':\w+-\w+-?\w*'
              close: ':'
            # # Ignore urls within html anchor tags
            - open: '<a'
              close: '<\/a>'
            - open: '<'
              close: '>'
            # Ignore blocks of math text
            - open: '(?s)^(\$\$)'
              close: '(\$\$)$'
            # Ignore inline math
            - open: '\${1,2}'
              close: '\${1,2}'
